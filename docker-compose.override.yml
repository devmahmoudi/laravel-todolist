services:
  laravel.test:
    image: laravel-todolist-dev:latest
    build:
      context: .
      dockerfile: ./docker/8.4/Dockerfile
      args:
        WWWGROUP: '${WWWGROUP:-1000}'
        WWWUSER: '${WWWUSER:-1000}'
    volumes:
      - .:/var/www/html
    extra_hosts:
      - 'host.docker.internal:host-gateway'

  scheduler:
    build:
        context: .
        dockerfile: ./docker/scheduler/Dockerfile
    image: devmahmoudi/laravel-todolist-schedule
    volumes:
        - .:/var/www/html